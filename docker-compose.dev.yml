# Use this docker-compose file in addition to the base one in order to set up development configurations for the containers
# https://docs.docker.com/compose/extends/

version: '3'
name: glados-project

services:
  app-backend:
    build:
      target: development
    volumes:
      # Directly mount source code on host machine disk to container -> no need to rebuild container on every change
      - ./apps/backend/:/app
  app-frontend:
    build: 
      target: development
    volumes:
      # Directly mount source code on host machine disk to container -> no need to rebuild container on every change
      - ./apps/frontend/:/app
  app-mongodb:
    # Only expose the MongoDB port to the host machine during development (for testing)
    # because end users should access it via frontend webserver api routes instead
    ports:
    - ${MONGODB_PORT}:${MONGODB_PORT}
